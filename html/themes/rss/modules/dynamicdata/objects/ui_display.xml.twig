{# modules/dynamicdata/objects/ui_display.xml.twig #}

{% block ui_display %}
{# <!-- FIXME: this does not generate valid RSS feeds --> #}
    {% if object %}
        {% set viewlink = object.getActionURL('view') %}
        {% if object.checkAccess('update') %}
            {% set modifylink = object.getActionURL('modify', object.itemid) %}
        {% endif %}
        <label>{{ object.label }}</label>
        <viewlink>{{ viewlink }}</viewlink>
        {% if modifylink %}
            <modifylink>{{ modifylink }}</modifylink>
        {% endif %}

        {% set getlinked = xar_coremethod('xarModItemVars', 'get', 'dynamicdata','getlinkedobjects',object.objectid) %}
        {% if getlinked %}

            {# <!-- Display object with linked objects --> #}
            {{ include('rss/includes/display_linked.xml.twig') }}

        {% else %}

            {# <!-- Display object - you can specify the layout here or in the object configuration --> #}
            <item name="{{ object.name }}" itemid="{{ object.itemid }}">
                {{ xar_data_display({object: object}) }}
            </item>
            {# <!-- Display hook output --> #}
            {% if hooks %}
                <hookoutput>
                {% for module, output in hooks %}
                    <module name="{{ module }}">
                        {{ output }}
                    </module>
                {% endfor %}
                </hookoutput>
            {% endif %}

        {% endif %}
    {% endif %}
{% endblock %}