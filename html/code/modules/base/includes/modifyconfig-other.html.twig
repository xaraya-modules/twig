{# @base/includes/modifyconfig-other.html.twig #}

{% block modifyconfig_other %}
<fieldset>
        <legend>Legacy Support</legend>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'Load Legacy Support for Xaraya1x/BlockLayout1 functions' %}
                <label for="loadlegacy" title="{{ label }}">
                    Enable Legacy Support
                </label>
            </div>
            <div class="xar-col">
                {% set checked = xar_var({scope: "config", name: "Site.Core.LoadLegacy"}) %}
                {{ xar_data_input({type: "checkbox", name: "loadlegacy", id: "loadlegacy", checked: checked}) }}
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Proxy Configuration</legend>
        <p>
            If your webserver only allows outgoing network connections (for retrieving headlines, checking links etc.) via a proxy server, specify its hostname and port number here.
        </p>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'Proxy server hostname to use' %}
                <label for="proxyhost" title="{{ label }}" class="xar-form-label">
                    Proxy Server:
                </label>
            </div>
            <div class="xar-col">
                {% set value = xar_var({scope: "module", module: "base", name: "proxyhost"}) %}
                <input type="text" id="proxyhost" name="proxyhost" value="{{ value }}" maxlength="100" class="xar-form-inputlong"/>
            </div>
        </div>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'Proxy server port to use' %}
                <label for="proxyport" title="{{ label }}" class="xar-form-label">
                    Proxy Port:
                </label>
            </div>
            <div class="xar-col">
                {% set value = xar_var({scope: "module", module: "base", name: "proxyport"}) %}
                <input type="text" id="proxyport" name="proxyport" value="{{ value }}" maxlength="10" class="xar-form-textshort"/>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Timezone Configuration</legend>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'This is the timezone your operating system is set to.' %}
                <label for="mytimezone" title="{{ label }}" class="xar-form-label">Host Timezone:</label>
            </div>
            <div class="xar-col">
                {% set hosttimezone = xar_coremethod('xarSystemVars', 'get', [constant('sys::CONFIG'), 'SystemTimeZone']) %}
                {{ xar_data_input({type: "timezone", name: "hosttimezone", id: "hosttimezone", value: hosttimezone}) }}
                &#160;The time is {{ hostdatetime.format(DATE_RSS) }}
            </div>
        </div>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'This is the timezone the server/site is based in.' %}
                <label for="sitetimezone" title="{{ label }}{{ " class="xar-form-label">Site Timezone.</label>
            </div>
            <div class="xar-col">
                {% set sitetimezone = xar_var({scope: "config", name: "Site.Core.TimeZone"}) %}
                <xar.data-input type="timezone" name="sitetimezone" id="sitetimezone" value="sitetimezone"/>
                &#160;The time is {{ sitedatetime.format(DATE_RSS) }}
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>Extension Release Feeds</legend>
        <div class="xar-row">
            <div class="xar-col">
                {% set label = 'Number of feeds for Xaraya release to display.' %}
                <label for="releasenumber" title="{{ label }}" class="xar-form-label">
                    Number of releases to display:
                </label>
            </div>
            <div class="xar-col">
                <input type="text" id="releasenumber" name="releasenumber" value="{{ releasenumber }}" maxlength="4" class="xar-form-textshort"/>
            </div>
        </div>
    </fieldset>
{% endblock %}