{# @themes/blocks/config-meta.html.twig #}

{% block config_meta %}
{% if metatags %}
    {# <!-- display list of stored metatags --> #}
    <table class="xar-table xar-fullwidth">
        <caption class="xar-align-left">Meta Tags</caption>
        <tbody>
        {% for tagkey, metatag in metatags %}
            {% set tagname = "metatags[" ~ tagkey ~ "]" %}
            {% set tagid = "metatags_" ~ tagkey %}
            <tr>
                <td>
                    <label for="{{ tagid }}">Meta</label>                
                </td>
                <td>
                    {% set tagtype = tagname ~ "[type]" %}
                    {% set tagtypeid = tagid ~ "_type" %}
                    {% set tagtypeval = metatag['type'] %}
                    {{ xar_data_input({type: "dropdown", name: tagtype, id: tagtypeid, options: metatypes, value: tagtypeval}) }} =
                    {% set tagvalue = tagname ~ "[value]" %}
                    {% set tagvalueid = tagid ~ "_value" %}
                    {% set tagvalueval = metatag['value'] %}
                    <input type="text" name="{{ tagvalue }}" id="{{ tagvalueid }}" value="{{ tagvalueval }}" class="xar-form-textmedium"/>                
                </td>
                <td>
                    {% set taglang = tagname ~ "[lang]" %}
                    {% set taglangid = tagid ~ "_lang" %}
                    {% set taglangval = metatag['lang'] %}
                    <label for="{{ taglangid }}">lang</label> =
                    {{ xar_data_input({type: "dropdown", name: taglang, id: taglangid, value: taglangval, options: metalangs, firstline: "n/a"}) }}
                </td>                
                <td>
                    {% set tagdir = tagname ~ "[dir]" %}
                    {% set tagdirid = tagid ~ "_dir" %}
                    {% set tagdirval = metatag['dir'] %}
                    <label for="{{ tagdirid }}">dir</label> =                
                    {{ xar_data_input({type: "dropdown", name: tagdir, id: tagdirid, value: tagdirval, options: metadirs, firstline: "n/a"}) }}
                </td>
                <td>
                    {% set tagscheme = tagname ~ "[scheme]" %}
                    {% set tagschemeid = tagid ~ "_scheme" %}
                    {% set tagschemeval = metatag['scheme'] %}
                    <label for="{{ tagschemeid }}">scheme</label> =  
                    <input type="text" name="{{ tagscheme }}" id="{{ tagschemeid }}" value="{{ tagschemeval }}"/>
                </td>
            </tr>
            <tr>
                {% set tagcontent = tagname ~ "[content]" %}
                {% set tagcontentid = tagid ~ "_content" %}
                {% set tagcontentval = metatag['content'] %}
                <td style="vertical-align: text-top;">
                    <label for="{{ tagcontentid }}">Content</label>                
                </td>
                <td colspan="4">
                    <textarea name="{{ tagcontent }}" id="{{ tagcontentid }}" cols="80" rows="2">{{ tagcontentval }}</textarea>                
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endif %}
    
    {# <!-- New meta tag input --> #}
    <table class="xar-table xar-fullwidth xar-margin-nonetop">
        <caption class="xar-align-left">New Meta Tag</caption>
        <tbody>
            <tr>
                <td>
                    <label for="metatype">Meta</label>                
                </td>
                <td>
                    {{ xar_data_input({type: "dropdown", name: "metatype", id: "metatype", options: metatypes}) }} =
                    <input type="text" name="metatypeval" id="metatypeval" value="" class="xar-form-textmedium"/>
                </td>
                <td>
                    <label for="metalang">lang</label> =
                    {{ xar_data_input({type: "dropdown", name: "metalang", id: "metalang", options: metalangs, firstline: "n/a"}) }}
                </td>
                <td>
                    <label for="metadir">dir</label> =                
                    {{ xar_data_input({type: "dropdown", name: "metadir", id: "metadir", options: metadirs, firstline: "n/a"}) }}
                </td>
                <td>
                    <label for="metascheme">scheme</label> =  
                    <input type="text" name="metascheme" id="metascheme" value=""/>
                </td>
            </tr>        
            <tr>
                <td style="vertical-align: text-top;">
                    <label for="metacontent">Content</label>                
                </td>
                <td colspan="4">
                    <textarea name="metacontent" cols="80" rows="2"></textarea>                
                </td>
            </tr>
        </tbody>   
    </table>    

    {# <!-- Display list of stored link tags --> #}
    {% if linktags %}
    <table class="xar-table xar-fullwidth xar-margin-thicktop">
        <caption class="xar-align-left">Link Tags</caption>
        <thead>
            <tr>
                <th>rel</th>
                <th>href</th>
                <th>title</th>
                <th>type</th>
                <th>Delete</th>
            </tr>        
        </thead>
        <tbody>
            {% for linkkey, linktag in linktags %}
            {% set linkname = "linktags[" ~ linkkey ~ "]" %}
            {% set linkid = "linktags_" ~ linkkey %}
            <tr>
                <td>
                    {% set relname = linkname ~ "[rel]" %}
                    {% set relid = linkid ~ "_rel" %}
                    <input type="text" name="{{ relname }}" id="{{ relid }}" value="{{ linktag.rel }}" class="xar-form-textmedium"/>
                </td>
                <td>
                    {% set hrefname = linkname ~ "[href]" %}
                    {% set hrefid = linkid ~ "_href" %}
                    <input type="text" name="{{ hrefname }}" id="{{ hrefid }}" value="{{ linktag.href }}" class="xar-form-textxlong"/>
                </td>
                <td>
                    {% set titlename = linkname ~ "[title]" %}
                    {% set titleid = linkid ~ "_title" %}
                    <input type="text" name="{{ titlename }}" id="{{ titleid }}" value="{{ linktag.title }}"/>
                </td>
                <td>
                    {% set typename = linkname ~ "[type]" %}
                    {% set typeid = linkid ~ "_type" %}
                    <input type="text" name="{{ typename }}" id="{{ typeid }}" value="{{ linktag.type }}" class="xar-form-textmedium"/>
                </td>
                <td>
                    {% set delname = linkname ~ "[delete]" %}
                    {% set delid = linkid ~ "_delete" %}
                    <input type="checkbox" name="{{ delname }}" id="{{ delid }}"/>                
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>    
    {% endif %}
    
    {# <!-- New link tag input --> #}
    <table class="xar-table xar-fullwidth xar-margin-nonetop">
        <caption class="xar-align-left">New Link Tag</caption>
        <thead>
            <tr>
                <th>rel</th>
                <th>href</th>
                <th>title</th>
                <th>type</th>
            </tr>        
        </thead>
        <tbody>
            <tr>
                <td>
                    <input type="text" name="linkrel" id="linkrel" value="" class="xar-form-textmedium"/>
                </td>
                <td>
                    <input type="text" name="linkhref" id="linkhref" value="" class="xar-form-textxlong"/>
                </td>
                <td>
                    <input type="text" name="linktitle" id="linktitle" value=""/>                
                </td>
                <td>
                    <input type="text" name="linktype" id="linktype" value="" class="xar-form-textmedium"/>
                </td>
            </tr>
        </tbody>
    </table>

{% endblock %}