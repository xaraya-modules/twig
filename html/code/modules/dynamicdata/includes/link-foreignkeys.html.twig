{# @dynamicdata/includes/link-foreignkeys.html.twig #}

{% block link_foreignkeys %}
<?xml version="1.0"?>
<xar:template xmlns:xar="http://xaraya.com/2004/blocklayout">
    <fieldset>
        <legend>Foreign Key Definitions in Tables</legend>
        <table class="xar-table">
            <tr>
                <th>From Table</th>
                <th>From Field</th>
                <th>Reference To Table</th>
                <th>To Field</th>
                <th>On Update</th>
                <th>On Delete</th>
            </tr>
            {% for fromto in foreignkeys %}
                <tr>
                    <td><a href="{{ xar_moduleurl('dynamicdata','admin','relations',{'table': fromto['source']}) }}">{{ fromto.source }}</a></td>
                    <td>{{ fromto.from }}</td>
                    <td><a href="{{ xar_moduleurl('dynamicdata','admin','relations',{'table': fromto['target']}) }}">{{ fromto.target }}</a></td>
                    <td>{{ fromto.to }}</td>
                    <td>{{ fromto.onupdate }}</td>
                    <td>{{ fromto.ondelete }}</td>
                </tr>
            {% endfor %}
        </table>
    </fieldset>
{% endblock %}