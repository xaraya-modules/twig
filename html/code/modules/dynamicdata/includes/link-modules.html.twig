{# @dynamicdata/includes/link-modules.html.twig #}

{% block link_modules %}
<?xml version="1.0"?>
<xar:template xmlns:xar="http://xaraya.com/2004/blocklayout">
    {% if relations|length > 0 %}
        <fieldset>
        <legend>Links for {{ module }}</legend>
        <table class="xar-table">
            <tr>
                <th>Module</th>
                <th>Link Type</th>
                <th>From</th>
                <th>To</th>
            </tr>
            {% for relation in relations %}
                {% if relation['links']|length > 0 %}
                    {% for link in relation['links'] %}
                        <tr>
                            <td>{{ relation['module'] }}</td>
                            <td>{{ link['type'] }}</td>
                            <td>{{ link['from'] }}</td>
                            <td>{{ link['to'] }}</td>
                        </tr>
                    {% endfor %}
                    {% else %}
                    <tr>
                        <td>{{ relation['module'] }}</td>
                        <td>( not found )</td>
                        <td>-</td>
                        <td>( not found )</td>
                    </tr>
                {% endif %}
            {% endfor %}
        </table>
        </fieldset>
    {% else %}
        <p>No links for this module.</p>
    {% endif %}
{% endblock %}