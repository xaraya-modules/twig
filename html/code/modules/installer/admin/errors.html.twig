{# @installer/admin/errors.html.twig #}

{% block errors %}
<div class="xar-mod-body">
		<link rel='icon' href="favicon.ico"/>
		{% set active_step = 5 %}
		<div id="main_right">
			{{ include('@installer/includes/status.html.twig') }}
		</div>
		<div id="main_left">
			{% if layout == 'bad_version' %}
				<h1>Database Version</h1>
					<p>
						The database extension is loaded, but your version is {{ version }}. The minimum required version is {{ required_version }}
					</p>
				<div class="xar-align-center" style="margin: 2em 0;">
					{% set label = 'Back' %}
					{{- xar_button({type: "cancel", label: label}) -}}
				</div>
			{% elseif layout == 'no_database' %}
				<div id="main_left">
					<h1>Empty Database Name</h1>
					<div>
						<p>
							The database name field cannot be empty.
						</p>
{# <!--
						<p>
							Please go back and either check the checkbox to create the database or choose a database that already exists.
						</p>
--> #}					</div>
				</div>
			{% elseif layout == 'no_connection' %}
				<div id="main_left">
					<h1>Cannot Connect</h1>
					<div>
						<p>
							Database connection failed. The information supplied was erroneous, such as a bad or missing password or wrong username.
						</p>
						<p>
							Please check the values you entered for:
							<ul>
								<li>Host (may need to include a port number)</li>
								<li>Username</li>
								<li>Password</li>
							</ul>
						</p>
						<h2>Error Specifics</h2>
						<p>
							 The error message returned was: "{{ message }}"
						</p>
					</div>
				</div>
			{% elseif layout == 'database_exists' %}
				<div id="main_left">
					<h1>Database Exists</h1>
					<div>
						<p>
							A database with the name '{{ database_name }}' already exists. Xaraya will not overwrite it.
						</p>
						<p>
							Please go back and either remove the existing database or choose a different name for the one you want to create.
						</p>
					</div>
				</div>
			{% elseif layout == 'cannot_create' %}
				<div id="main_left">
					<h1>Cannot Create Database</h1>
					<div>
						<p>
							Could not create a database with the name '{{ database_name }}'.
						</p>
						<p>
							The installer either thinks that a database by that name already exists, or it does not have the necessary permissions to create one.
						</p>
					</div>
				</div>
			{% elseif layout == 'general_exception' %}
				<div id="main_left">
					<h1>Exception</h1>
					<div>
						<p>
							The Xaraya installer encountered an exception.
						</p>
						<p>
							The message returned is:
						</p>
						<p>
							<span style="color: red"><strong>{{ message }}</strong></span>
						</p>
					</div>
				</div>
			{% endif %}
			<div class="xar-align-center" style="margin: 2em 0;">
				{% set label = 'Go Back' %}
				{{- xar_button({type: "cancel", label: label}) -}}
			</div>
		</div>
{# <!--		
        <fieldset>
            <legend>Problem Installing</legend>
            {% set label = 'System Message' %}
            <img src="{{ xar_imageurl('user-error.png','theme') }}" alt="{{ label }}" width="96" height="96" class="xar-module-icon"/>
            {% if layout is null %}
                <div style="margin-top: 20px">No error message is available. 
                <br />Please contact the system administrator.</div>
            {% elseif layout == 'no_database' %}
                <div style="margin-top: 20px">No database was specified</div>
            {% elseif layout == 'database_exists' %}
                <div style="margin-top: 20px">A database with this name already exists</div>
            {% elseif layout == 'invalid_character' %}
                <div style="margin-top: 20px">Invalid character in the table prefix. Use only a-z, a single _ (underscore), and/or 0-9 in the prefix.</div>
            {% elseif layout == 'no_connection' %}
                <div style="margin-top: 20px">                          
                <br />The message was: <pre style="color: red">{{ message }}</pre></div>
            {% else %}
                <div style="margin-top: 20px">No error message is available. 
                <br />Please contact the system administrator.</div>
            {% endif %}
        </fieldset>
        <div class="xar-form-actions">
            <div class="xar-row">
                <div class="xar-col"></div>
                <div class="xar-col">
					<p>
						{% set label = 'Go back' %}
						{{- xar_button({type: "cancel", label: label}) -}}
                    </p>
                </div>
            </div>
        </div>
--> #}
    </div>
{% endblock %}