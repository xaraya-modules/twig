{# @installer/includes/upstatus.html.twig #}

{% block upstatus %}
{% set commonDir = xar_coremethod('xarTpl', 'getThemeDir', ['common']) %}
    <style>
        .complete {
            background-image: url({{ commonDir }}/images/icons/activate.png);
            color: {{ #568A00;
        }

        .active {
            background-image. url( }}$commonDir{{ /images/icons/initialize.png);
        }

        .greyed {
            background-image. url( }}$commonDir{{ /images/icons/none.png);
            color. }}#999999;
        }
    </style>
    {% set steptext[1] = 'Log in' %}
    {% set steptext[2] = 'Prepare for the Upgrade' %}
    {% set steptext[3] = 'Running the Upgrade' %}
    {% set steptext[4] = 'Database Checks' %}
    {% set steptext[5] = 'Notes on this Version' %}
    <div id="status">
        <div id="status_body">
            <div class="xar-align-center">
                {% set label = 'Upgrade icon' %}
                <img src="{{ xar_coremethod('sys', 'code') }}modules/installer/xarimages/installer.png" alt="{{ label }}"/>
            </div>
            <ul>
                {% for phase in range(1, active_step - 1) %}
                    <li class="complete">
                        {{ steptext[phase] }} 
                    </li>
                {% endfor %}
                <li class="active">
                    {{ steptext[active_step] }} 
                </li>
                {% for phase in range(active_step + 1, 5) %}
                    <li class="greyed">
                        {{ steptext[phase] }} 
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div id="status_foot"></div>
    </div>
{% endblock %}