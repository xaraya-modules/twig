{# @workflow/admin/graph.html.twig #}

{% block graph %}
<div class="xar-mod-head">
    <span class="xar-mod-title">
      Workflow Administration
    </span>
  </div>
  <div class="xar-mod-body">
    {{ include('@workflow/includes/admin-menu.html.twig') }}
{# <!-- Show the navigation bar --> #}
    {{ include('@workflow/includes/proc_bar.html.twig') }}
{# <!-- Show some help if we enabled that feature --> #}
    {% if info['graph'] %}
      {% if info['map'] %}
        <img src="{{ info['graph'] }}" alt="{{ info['name'] }}" usemap="#procmap"/>
        <map name="procmap">{{info['map'] }}</map>
        {% else %}
        <img src="{{ info['graph'] }}" alt="{{ info['name'] }}" border="0"/>
      {% endif %}
      {% else %}
      <p>
        {% set graphvizlink = '<a href="http://www.research.att.com/sw/tools/graphviz/">GraphViz</a>' %}
        No process graph is available.
        {{ xar_translate('Either the process still contains errors, or #(1) is not properly installed.
            Or if it is installed, you may need to adapt GRAPHVIZ_DIR in the modules/workflow/lib/Galaxia/config.php file...', graphvizlink) }}
      </p>
    {% endif %}
{# <!-- Show the process list --> #}
    {{ include('@workflow/includes/processlist.html.twig') }}
{# <!-- Show the pager --> #}
    {{ include('@workflow/includes/pager.html.twig') }}
{# <!-- Show a courtesy footer --> #}
    {{ include('@workflow/includes/galaxfooter.html.twig') }}
  </div>
{% endblock %}